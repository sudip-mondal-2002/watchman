<html lang="en">

<head>
    <title>Monitoring service</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<h1>Monitoring service</h1>
<% rooms.forEach(room=>{ %>
    <div >
        <h5>Application: <%= room.appName %></h5>
        <div class="row" style="background-color: #DDD">
            <div class="col">Socket ID</div>
            <div class="col">CPU Usage</div>
            <div class="col">Memory Usage</div>
            <div class="col">Is Alive?</div>
        </div>
        <% room.sockets.forEach(socket=>{ %>
            <a class="row" href="/<%= socket.socketID %>">
                <div class="col"><%= socket.socketID %></div>
                <div class="col"><%= socket.cpuUsage[socket.cpuUsage.length -1] %></div>
                <div class="col"><%= socket.memoryUsage[socket.memoryUsage.length -1] %></div>
                <div class="col"><%= socket.isAlive %></div>
            </a>
        <% }) %>
    </div>
<% }) %>
</body>
</html>